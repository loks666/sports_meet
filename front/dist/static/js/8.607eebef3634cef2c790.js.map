{"version":3,"sources":["webpack:///src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?0908","webpack:///./src/views/login/Login.vue"],"names":["Login","name","data","src","usersStnumber","usersPwd","codetext","code","responseResult","captchaUrl","created","this","createCode","methods","switch","e","b","i","length","charCodeAt","a","String","fromCharCode","randoms","parseInt","Math","random","login","_this","inputCode","window","sessionStorage","setItem","Object","api","params","md5_default","then","res","console","log","$message","error","success","getItem","$router","replace","path","message","type","updatePwd","location","hash","login_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","label-position","label-width","auto-complete","clearable","placeholder","prefix-icon","model","value","callback","$$v","expression","show-password","staticStyle","display","width","height","margin-left","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.607eebef3634cef2c790.js","sourcesContent":["<template>\r\n\r\n\r\n  <div class=\"a\">\r\n    <div class=\"b\"></div>\r\n    <div class=\"c\">\r\n      <div class=\"d\">\r\n        <!--          <body id=\"poster\">-->\r\n        <!--  <el-button style=\"margin-left: 1100px;\" v-on:click=\"switch_user()\">返回主页</el-button>-->\r\n        <el-form label-position=\"left\" label-width=\"0px\">\r\n          <h1>运动报名管理系统</h1>\r\n\r\n          <el-form-item>\r\n            <el-input v-model=\"usersStnumber\" auto-complete=\"off\" clearable placeholder=\"账号\"\r\n                      prefix-icon=\"el-icon-user\" type=\"text\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n            <el-input v-model=\"usersPwd\" auto-complete=\"off\" placeholder=\"密码\" prefix-icon=\"el-icon-lock\"\r\n                      show-password type=\"password\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n            <div style=\"display: flex\">\r\n              <el-input\r\n                v-model=\"codetext\"\r\n                placeholder=\"请输入验证码\"\r\n                prefix-icon=\"el-icon-key\"\r\n                style=\"width: 50%\"\r\n              ></el-input>\r\n              <el-image :src=\"src\" class=\"image\" style=\"height:30px;margin-left:30px\" @click=\"createCode()\"/>\r\n              <!--              <img :src=\"captchaUrl\" class=\"image\"  @click=\"captcha()\"/>-->\r\n            </div>\r\n          </el-form-item>\r\n\r\n          <el-form-item style=\"width: 100%\">\r\n            <el-button class=\"h\" type=\"primary\" @click=\"login()\">登录\r\n            </el-button>\r\n          </el-form-item>\r\n\r\n          <div>\r\n\r\n            <el-link type=\"primary\" @click=\"updatePwd\">忘记密码？点击重置</el-link>\r\n\r\n          </div>\r\n\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {LoginAPI} from '@/request/api';\r\nimport md5 from 'js-md5';\r\n\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n\r\n      src: '',\r\n      usersStnumber: '',\r\n      usersPwd: '',\r\n      codetext: '',\r\n      code: \"\",\r\n      responseResult: [],\r\n      captchaUrl: '',\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.createCode()\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n\r\n    //验证码校验方法\r\n    switch(e) {\r\n      let b = \"\"\r\n      for (let i = 0; i < e.length; i++) {\r\n        if (e[i].charCodeAt() >= 65 && e[i].charCodeAt() <= 91) {\r\n          let a = e[i].charCodeAt() + 32\r\n          b += String.fromCharCode(a)\r\n        } else {\r\n          b += e[i]\r\n        }\r\n      }\r\n      return b;\r\n    },\r\n\r\n    //生成验证码\r\n    createCode() {\r\n      let code = '';\r\n      //设置长度，4\r\n      let codeLength = 4;\r\n      //设置随机字符\r\n      const randoms = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q',\r\n        'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q',\r\n        'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];\r\n      for (let i = 0; i < codeLength; i++) {\r\n        //设置随机数范围,这设置为0 ~ 36\r\n        let index = parseInt(Math.random() * (randoms.length), 10);\r\n        //字符串拼接 将每次随机的字符 进行拼接\r\n        code += randoms[index];\r\n      }\r\n      //将拼接好的字符串赋值给展示的code\r\n      this.code = code;\r\n      this.src = 'http://localhost:9090/authCode/code?code=' + code\r\n    },\r\n\r\n    //登陆\r\n    login() {\r\n      let inputCode = this.switch(this.codetext)\r\n      let codeValue = this.switch(this.code)\r\n      codeValue = 1111\r\n      if (inputCode == codeValue) {\r\n        window.sessionStorage.setItem('upd', this.usersPwd)\r\n        LoginAPI({\r\n          params: {\r\n            usersStnumber: this.usersStnumber,\r\n            usersPwd: md5(this.usersPwd),\r\n          }\r\n        }).then(res => {\r\n\r\n          console.log(res)\r\n          if (res.data.code !== \"200\") {\r\n            return this.$message.error('学号或密码错误')\r\n          } else {\r\n            this.$message.success('登陆成功')\r\n            window.sessionStorage.setItem('id', this.usersStnumber)\r\n            window.sessionStorage.setItem('token', res.data.data)\r\n            console.log(\"登陆返回信息\", res)\r\n            console.log(\"登陆id\", window.sessionStorage.getItem('id'))\r\n            this.$router.replace({\r\n              path: '/echartsPage'\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        this.$message({\r\n          message: '验证码错误',\r\n          type: 'error',\r\n        });\r\n      }\r\n    },\r\n\r\n    //重置密码\r\n    updatePwd() {\r\n      console.log(\"重置密码\")\r\n      window.location.hash = \"#/retrievePwd\"\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/*@import \"../../assets/bj.png\";*/\r\n/*body{*/\r\n/*  !* 设置背景渐变 *!*/\r\n/*  background-image: linear-gradient(to left,*/\r\n/*  #9c88ff,#3cadeb);*/\r\n/*  display: flex;*/\r\n/*  justify-content: center;*/\r\n/*}*/\r\n.a {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  /*margin :auto 185px;*/\r\n  /*position:relative;*/\r\n  /*position:absolute;*/\r\n  /*top: 40px;*/\r\n  width: 1100px;\r\n  height: 550px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, .8);\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n}\r\n\r\n.b {\r\n  width: 800px;\r\n  height: 550px;\r\n  background-image: url('../../assets/bj.png');\r\n  /* 让图片适应大小 */\r\n  background-size: cover;\r\n  justify-content: center;\r\n}\r\n\r\n.s {\r\n  margin-left: auto;\r\n  margin-right: auto\r\n}\r\n\r\n.c {\r\n  width: 300px;\r\n  height: 550px;\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.d {\r\n  width: 250px;\r\n  height: 500px;\r\n}\r\n\r\n.d h1 {\r\n  font: 900 30px '';\r\n}\r\n\r\n\r\n.e {\r\n  width: 230px;\r\n  margin: 20px 0;\r\n  outline: none;\r\n  border: 0;\r\n  padding: 10px;\r\n  border-bottom: 3px solid rgb(80, 80, 170);\r\n  font: 900 16px '';\r\n}\r\n\r\n.f {\r\n  float: right;\r\n  margin: 10px 0;\r\n}\r\n\r\n.g {\r\n  position: absolute;\r\n  margin: 20px;\r\n  bottom: 40px;\r\n  display: block;\r\n  width: 200px;\r\n  height: 60px;\r\n  font: 900 30px '';\r\n  text-decoration: none;\r\n  line-height: 50px;\r\n  border-radius: 30px;\r\n  background-image: linear-gradient(to left,\r\n  #9c88ff, #3cadeb);\r\n  text-align: center;\r\n}\r\n\r\n.h {\r\n  width: 252px;\r\n  height: 45px;\r\n  background-image: linear-gradient(to left,\r\n  #9c88ff, #3cadeb);\r\n  text-align: center;\r\n}\r\n\r\n\r\n#poster {\r\n  background-position: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-size: cover;\r\n  position: fixed;\r\n}\r\n\r\n.login-container {\r\n  border-radius: 15px;\r\n  background-clip: padding-box;\r\n  margin: 90px auto;\r\n  width: 350px;\r\n  padding: 35px 35px 15px 35px;\r\n  background: #fff;\r\n  border: 1px solid #eaeaea;\r\n  box-shadow: 0 0 25px #cac6c6;\r\n}\r\n\r\n.login_title {\r\n  margin: 0px auto 40px auto;\r\n  text-align: center;\r\n  color: #505458;\r\n}\r\n\r\n.image {\r\n  margin-left: 10px;\r\n  text-align: center;\r\n  /* line-height: 37px; */\r\n  height: 40px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"a\"},[_c('div',{staticClass:\"b\"}),_vm._v(\" \"),_c('div',{staticClass:\"c\"},[_c('div',{staticClass:\"d\"},[_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h1',[_vm._v(\"运动报名管理系统\")]),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\",\"placeholder\":\"账号\",\"prefix-icon\":\"el-icon-user\",\"type\":\"text\"},model:{value:(_vm.usersStnumber),callback:function ($$v) {_vm.usersStnumber=$$v},expression:\"usersStnumber\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"placeholder\":\"密码\",\"prefix-icon\":\"el-icon-lock\",\"show-password\":\"\",\"type\":\"password\"},model:{value:(_vm.usersPwd),callback:function ($$v) {_vm.usersPwd=$$v},expression:\"usersPwd\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"请输入验证码\",\"prefix-icon\":\"el-icon-key\"},model:{value:(_vm.codetext),callback:function ($$v) {_vm.codetext=$$v},expression:\"codetext\"}}),_vm._v(\" \"),_c('el-image',{staticClass:\"image\",staticStyle:{\"height\":\"30px\",\"margin-left\":\"30px\"},attrs:{\"src\":_vm.src},on:{\"click\":function($event){return _vm.createCode()}}})],1)]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticClass:\"h\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"登录\\n          \")])],1),_vm._v(\" \"),_c('div',[_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updatePwd}},[_vm._v(\"忘记密码？点击重置\")])],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d5733b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d5733b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d5733b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d5733b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}