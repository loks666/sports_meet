webpackJsonp([6],{ezEV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={border:!0,index:!0,indexLabel:"序号",stripe:!0,calcHeight:30,searchMenuSpan:4,dialogDrag:!0,searchSpan:5,searchBtn:!1,viewBtn:!0,editBtn:!1,page:!1,addBtn:!0,align:"center",menuAlign:"center",formslot:!0,column:[{label:"姓名",prop:"usersName"},{label:"学号",prop:"usersStnumber",editDisabled:!0},{label:"院系",prop:"collegeName",type:"select",rules:[{required:!0,message:"请选择院系",trigger:"blur"}],dicData:[{label:"理工学院",value:"理工学院"},{label:"体育与健康学院",value:"体育与健康学院"},{label:"语言文学学院",value:"语言文学学院"},{label:"马克思学院",value:"马克思学院"},{label:"经济与管理学院",value:"经济与管理学院"},{label:"教育与音乐学院",value:"教育与音乐学院"},{label:"艺术与设计学院",value:"艺术与设计学院"},{label:"商贸与法律学院",value:"商贸与法律学院"},{label:"传媒学院",value:"传媒学院"}]},{label:"状态",type:"switch",slot:!0,dicData:[{label:"未发布",value:"0"},{label:"已发布",value:"1"}],prop:"draftState"},{label:"内容",prop:"draftContent"}]},s=a("2CGT"),o={data:function(){return{option:n,form:{},data:[],search:"",currentPage:1,pageSize:10,total:0,users_ne:"",users_nb:"",college_ne:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;Object(s.k)({params:{PageNum:this.currentPage,PageSize:this.pageSize,search:this.search}}).then(function(t){console.log("11111111"),console.log(t.data.data.records),e.data=t.data.data.records,e.total=t.data.data.total})},changeSwitch:function(e){console.log("开关===>",e);var t="1"==e.draftState?"已发布":"未发布";console.log(e.draftState),this.$confirm("是否"+t+"此接口状态？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.n)(e.draftId,e.draftState).then(function(e){console.log(e)}).catch(function(){loading()})}).catch(function(){})},searchLiset:function(){var e=this;Object(s.m)({params:{PageNum:this.currentPage,PageSize:this.pageSize,usersName:this.users_ne,usersStnumber:this.users_nb,collegeName:this.college_ne}}).then(function(t){console.log(t.data.data.records),console.log("111"),e.data=t.data.data.records,e.total=t.data.data.total})},insert:function(e,t,a){var n=this;Object(s.l)(e).then(function(e){t(),a(),n.getList(),"200"==e.data.code?n.$message({type:"success",message:"新增成功"}):n.$message({type:"error",message:"新增成功"}),console.log(e),console.log("ssss")}),console.log("999")},update:function(e,t,a,n){var s=this;UupdateAPI(e).then(function(e){a(),s.getList(),console.log(e),"200"==e.data.code?s.$message({type:"success",message:"更新成功"}):s.$message({type:"error",message:"更新失败"})}).catch(function(){n()}),console.log(e)},deletes:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(s.j)(e.draftId)}).then(function(e){t.getList(),"200"==e.data.code?t.$message({type:"success",message:"删除成功"}):t.$message({type:"error",message:"删除失败"}),console.log(e)})},emptyInput:function(){this.users_ne="",this.users_nb="",this.college_ne=""},refreshList:function(){this.getList()},sizeChange:function(e){this.page.pageSize=e},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"as"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户姓名"},model:{value:e.users_ne,callback:function(t){e.users_ne=t},expression:"users_ne"}}),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户学号"},model:{value:e.users_nb,callback:function(t){e.users_nb=t},expression:"users_nb"}}),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入院系"},model:{value:e.college_ne,callback:function(t){e.college_ne=t},expression:"college_ne"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.searchLiset}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.emptyInput}})],1),e._v(" "),a("basic-container",[a("avue-crud",{attrs:{data:e.data,option:e.option},on:{"on-load":e.getList,"size-change":e.sizeChange,"row-update":e.update,"row-save":e.insert,"row-del":e.deletes,"refresh-change":e.refreshList},scopedSlots:e._u([{key:"draftState",fn:function(t){return[a("el-switch",{staticClass:"switch",attrs:{"active-color":"#409EFF","active-text":"已发布","active-value":"1","inactive-color":"#CCCCCC","inactive-text":"未发布","inactive-value":"0"},on:{change:function(a){return e.changeSwitch(t.row)}},model:{value:t.row.draftState,callback:function(a){e.$set(t.row,"draftState",a)},expression:"scope.row.draftState"}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),e._v(" "),a("div",{staticStyle:{margin:"10px 0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,20],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,l,!1,function(e){a("od8Z")},null,null);t.default=c.exports},od8Z:function(e,t){}});
//# sourceMappingURL=6.3f549432a1e1173d37c3.js.map