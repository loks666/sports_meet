webpackJsonp([5],{Mk7d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={border:!0,index:!0,indexLabel:"序号",stripe:!0,calcHeight:30,searchMenuSpan:4,searchSpan:5,searchShowBtn:!1,dialogDrag:!0,page:!1,addBtn:!1,delBtn:!1,editBtnText:"录入成绩",align:"center",menuAlign:"center",formslot:!0,column:[{label:"比赛编号",prop:"competitionNb",hide:!0,editDisabled:!0,rules:[{required:!0,message:"比赛编号不能为空",trigger:"blur"},{validator:function(e,t,a){if(t){if(!/^glxy[0-9]\d{5}$/.test(t))return a(new Error("请输入正确的比赛编号"));a()}else a(new Error("请输入比赛编号"))},trigger:"blur"}]},{label:"比赛名称",prop:"competitionNe",editDisabled:!0,rules:[{required:!0,message:"比赛名称不能为空",trigger:"blur"},{validator:function(e,t,a){if(t){if(!/^[\u4e00-\u9fa50-9]{4,12}$/.test(t))return a(new Error("请输入正确的比赛编号"));a()}else a(new Error("请输入比赛编号"))},trigger:"blur"}]},{label:"比赛开始时间",prop:"competitionStart",editDisabled:!0,type:"datetime",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",rules:[{required:!0,message:"比赛开始时间不能为空",trigger:"blur"}]},{label:"比赛结束时间",prop:"competitionEnd",editDisabled:!0,type:"datetime",hide:!0,format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",rules:[{required:!0,message:"比赛结束时间不能为空",trigger:"blur"}]},{label:"比赛地点",prop:"competitionSite",editDisabled:!0,type:"select"},{label:"姓名",prop:"usersName",editDisabled:!0},{label:"学号",prop:"usersStnumber",hide:!0,editDisabled:!0},{label:"性别",prop:"usersSex",dicData:[{label:"男",value:0},{label:"女",value:1}],editDisabled:!0,addDisabled:!1},{label:"号码",prop:"usersPhone",hide:!0,editDisabled:!0,addDisabled:!1},{label:"学院",prop:"collegeName",editDisabled:!0,addDisabled:!1},{label:"成绩",prop:"competitionScore",cell:!0},{label:"积分",prop:"competitionIntegral",cell:!0,type:"select",dicData:[{label:"3",value:"3"},{label:"2",value:"2"},{label:"1",value:"1"}]}]},i=a("2CGT"),n={data:function(){return{option:s,obj:{},data:[],test:[],search:"",competition_ne:"",college_name:"",users_name:"",currentPage:1,pageSize:10,total:0}},created:function(){this.updateList()},methods:{searchLiset:function(){var e=this;Object(i.t)({params:{PageNum:this.currentPage,PageSize:this.pageSize,competitionNe:this.competition_ne,collegeName:this.college_name,usersName:this.users_name}}).then(function(t){console.log(t.data.data.records),console.log("111"),e.data=t.data.data.records,e.total=t.data.data.total;for(var a=0;a<=t.data.data.records.length;a++)0==t.data.data.records[a].usersSex?e.data[a].usersSex="男":e.data[a].usersSex="女"})},update:function(e,t,a,s){var n=this;console.log("params==>",e),this.test=e,"男"==e.usersSex?this.test.usersSex=0:this.test.usersSex=1,console.log("1111111111111"),console.log(this.test),Object(i.v)(this.test).then(function(e){console.log("res==>",e),a(),"200"==e.data.code?n.$message({type:"success",message:"更新成功"}):n.$message({type:"error",message:"更新失败"}),n.getList()}).catch(function(){s()})},deletes:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return CdeleteAPI(e.competitionNb)}).then(function(e){t.getList(),"200"==e.data.code?t.$message({type:"success",message:"删除成功"}):t.$message({type:"error",message:"删除失败"}),console.log(e)})},updateList:function(){Object(i.u)({}).then(function(e){console.log("更新数据")})},sizeChange:function(e){this.page.pageSize=e},handleSizeChange:function(e){this.pageSize=e,this.searchLiset()},handleCurrentChange:function(e){this.currentPage=e,this.searchLiset()},handleRowSave:function(e,t,a){this.data.splice(0,0,e),t(),a()},handleRowUpdate:function(e,t,a,s){this.data.splice(t,1,e),a(),s()},rowDel:function(e,t){var a=this;this.$confirm("是否删除该条信息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.data.splice(t,1)})},emptyInput:function(){this.competition_ne="",this.college_name="",this.users_name=""},refreshList:function(){this.searchLiset()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ae"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入比赛名称"},model:{value:e.competition_ne,callback:function(t){e.competition_ne=t},expression:"competition_ne"}}),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入学院名称"},model:{value:e.college_name,callback:function(t){e.college_name=t},expression:"college_name"}}),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户名称"},model:{value:e.users_name,callback:function(t){e.users_name=t},expression:"users_name"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.searchLiset}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.emptyInput}})],1),e._v(" "),a("basic-container",[a("avue-crud",{attrs:{data:e.data,option:e.option},on:{"on-load":e.searchLiset,"size-change":e.sizeChange,"row-save":e.insert,"row-update":e.update,"row-del":e.deletes,"refresh-change":e.refreshList}})],1),e._v(" "),a("div",{staticStyle:{margin:"10px 0"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,20],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(e){a("qMOz")},"data-v-65a15d56",null);t.default=o.exports},qMOz:function(e,t){}});
//# sourceMappingURL=5.f5df76921cd12858fdce.js.map