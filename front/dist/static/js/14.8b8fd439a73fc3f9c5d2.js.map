{"version":3,"sources":["webpack:///./src/api/Avue/college.js","webpack:///src/views/college/College.vue","webpack:///./src/views/college/College.vue?1aa0","webpack:///./src/views/college/College.vue"],"names":["collegeAvue","border","index","indexLabel","stripe","calcHeight","searchMenuSpan","searchSpan","searchShowBtn","dialogDrag","page","addBtn","align","menuAlign","formslot","column","label","prop","editDisabled","rules","required","message","trigger","validator","rule","value","callback","test","Error","College","data","option","form","search","collegeNumber","entity","currentPage","pageSize","total","created","this","getList","methods","_this","Object","api","params","PageNum","PageSize","then","res","console","log","records","insert","done","loading","_this2","code","$message","type","update","_this3","catch","deletes","_this4","$confirm","confirmButtonText","cancelButtonText","collegeName","emptyInput","users_ne","users_nb","college_ne","refreshList","sizeChange","handleSizeChange","handleCurrentChange","pageNum","college_College","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","on-load","size-change","row-update","row-save","row-del","refresh-change","model","$$v","expression","_v","staticStyle","margin","current-page","page-size","page-sizes","layout","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.8b8fd439a73fc3f9c5d2.js","sourcesContent":["// 设置学院编号的验证规则\r\nconst checkNb = (rule, value, callback) => {\r\n  if (!value) {\r\n    callback(new Error('请输入学院编号'))\r\n  } else {\r\n    const reg = /^glxy[0-9]\\d{2}$/;\r\n    if (reg.test(value)) {\r\n      callback()\r\n    } else {\r\n      return callback(new Error('请输入正确的学院编号'))\r\n    }\r\n  }\r\n}\r\n\r\n// 设置学院名称的验证规则\r\nconst checkNe = (rule, value, callback) => {\r\n  if (!value) {\r\n    callback(new Error('请输入学院名称'))\r\n  } else {\r\n    // const reg = /^(20)d{12}$/;\r\n    const reg = /^[\\u4e00-\\u9fa5]{4,12}$/;\r\n    if (reg.test(value)) {\r\n      callback()\r\n    } else {\r\n      return callback(new Error('请输入正确的学院名称'))\r\n    }\r\n  }\r\n}\r\n\r\nexport const collegeAvue = {\r\n\r\n  border: true,                   //显示递增id\r\n  index: true,\r\n  indexLabel: '序号',\r\n  stripe: true,\r\n  calcHeight: 30,\r\n  searchMenuSpan: 4,\r\n  // menuAlign: 'center',\r\n  searchSpan: 5,\r\n  searchShowBtn: false,     //控制搜索折叠的按钮\r\n  // selection:true,  //开启多选功能\r\n  dialogDrag: true, //表单拖拽\r\n\r\n  // title:'表格的标题',\r\n  page: false,\r\n  addBtn: true,\r\n  align: 'center',\r\n  menuAlign: 'center',\r\n  formslot: true,\r\n  column: [\r\n    {\r\n      label: '学院编号',\r\n      prop: 'collegeNumber',\r\n      // hide: true,   //表单查询是否显示\r\n      editDisabled: true,   //编辑的时候不能修改\r\n      rules: [{\r\n        required: true,\r\n        message: '学院编号不能为空',\r\n        trigger: 'blur'\r\n      }, {\r\n        validator: checkNb,\r\n        trigger: 'blur'\r\n      }]\r\n    },\r\n    {\r\n      label: '学院名称',\r\n      prop: 'collegeName',\r\n      rules: [{\r\n        required: true,\r\n        message: '学院名称不能为空',\r\n        trigger: 'blur'\r\n      }, {\r\n        validator: checkNe,\r\n        trigger: 'blur'\r\n      }],\r\n      // search: true,   //搜索栏\r\n\r\n      //开启自定义搜索\r\n      // searchslot:true,\r\n      // search:true,\r\n    },\r\n  ]\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/Avue/college.js","<template>\r\n  <div class=\"as\">\r\n\r\n    <basic-container>\r\n      <avue-crud v-model=\"form\"\r\n                 :data=\"data\"\r\n                 :option=\"option\"\r\n\r\n                 @on-load=\"getList\"\r\n                 @size-change=\"sizeChange\"\r\n                 @row-update=\"update\"\r\n                 @row-save=\"insert\"\r\n                 @row-del=\"deletes\"\r\n                 @refresh-change=\"refreshList\"\r\n\r\n      >\r\n\r\n\r\n      </avue-crud>\r\n    </basic-container>\r\n\r\n    <!--    分页-->\r\n    <div style=\"margin: 10px 0\">\r\n      <el-pagination\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :page-sizes=\"[5, 10, 20]\"\r\n        :total=\"total\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script scoped>\r\nimport {collegeAvue} from '@/api/Avue/college';\r\nimport {CodeleteAPI, CogetLisetAPI, CoinsertAPI, CoupdateAPI} from '@/request/api';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      option: collegeAvue,\r\n      form: {},\r\n      data: [],\r\n      search: '',\r\n      collegeNumber: '',\r\n      entity: [],\r\n      //分页\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n\r\n    //分页请求\r\n    getList() {\r\n      CogetLisetAPI({\r\n        params: {\r\n          PageNum: this.currentPage,\r\n          PageSize: this.pageSize,\r\n          search: this.search\r\n\r\n        }\r\n      }).then(res => {\r\n        console.log('11111111')\r\n        // console.log(res)\r\n        console.log(res.data.data.records)\r\n\r\n        this.data = res.data.data.records\r\n        this.total = res.data.data.total\r\n\r\n      })\r\n\r\n    },\r\n\r\n    //新增\r\n    insert(params, done, loading) {\r\n      CoinsertAPI(params).then(res => {\r\n        done();  // 关闭表单\r\n        loading(); // 按钮停止加载\r\n        this.getList()\r\n        if (res.data.code == '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"新增成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"新增失败\"\r\n          })\r\n        }\r\n        console.log(res)\r\n        console.log('ssss')\r\n      })\r\n      // console.log(res)\r\n      console.log('999')\r\n    },\r\n\r\n    //修改\r\n    update(params, index, done, loading) {\r\n      CoupdateAPI(params).then(res => {\r\n        done();\r\n        this.getList()\r\n        console.log(res)\r\n        if (res.data.code == '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"更新成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"更新失败\"\r\n          })\r\n        }\r\n      })\r\n        .catch(() => {\r\n          loading();\r\n\r\n        })\r\n\r\n      // this.onLoad(this.page, this.query);\r\n      console.log(params)\r\n\r\n      // this.getList()\r\n    },\r\n\r\n    // 删除按钮\r\n    deletes(params) {\r\n      console.log(\"删除\", params)\r\n      this.entity = params;\r\n      console.log(\"删除\", this.entity)\r\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        return CodeleteAPI({\r\n          params: {\r\n            collegeName: this.entity.collegeName\r\n          }\r\n        })\r\n      }).then((res) => {\r\n        this.getList();\r\n        // this.$message.success('删除成功')\r\n\r\n        if (res.data.code == '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"删除失败\"\r\n          })\r\n        }\r\n        console.log(res);\r\n\r\n      })\r\n\r\n      // this.$confirm('是否删除该条信息？', '提示', {\r\n      //   confirmButtonText: '确定',\r\n      //   cancelButtonText: '取消',\r\n      //   type: 'warning'\r\n      // }).then(() => {\r\n      //   UdeleteAPI(params).then(res =>{\r\n      //     console.log(params)\r\n      //     if(res.data.code =='0'){\r\n      //       this.$message({\r\n      //         type:\"success\",\r\n      //         message: \"删除成功\"\r\n      //       })\r\n      //     }else{\r\n      //       this.$message({\r\n      //         type:\"error\",\r\n      //         message: \"删除失败\"\r\n      //       })\r\n      //     }\r\n      //     console.log(params)\r\n      //   })\r\n      //   this.data.splice(index, 1);\r\n      //   console.log(params)\r\n      // });\r\n      // console.log(params)\r\n    },\r\n\r\n    //清空搜索栏\r\n    emptyInput() {\r\n      this.users_ne = \"\";\r\n      this.users_nb = \"\";\r\n      this.college_ne = \"\";\r\n    },\r\n\r\n    //刷新按钮\r\n    refreshList() {\r\n      this.getList()\r\n    },\r\n\r\n    //最大条数\r\n    sizeChange(pageSize) {\r\n      this.page.pageSize = pageSize\r\n    },\r\n    //改变当前每页的个数触发\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize;\r\n      this.getList()\r\n    },\r\n    //改变当前页码触发\r\n    handleCurrentChange(pageNum) {\r\n      this.currentPage = pageNum\r\n      this.getList()\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n/*body{*/\r\n/*  !*padding: 25px 50px 75px 100px;*!*/\r\n/*  !*margin :auto 100px;*!*/\r\n/*}*/\r\n.as {\r\n  /*上 右 下 左*/\r\n  padding: 10px 10px 10px 10px;\r\n  margin: 3px 0px 0px 3px;\r\n  /*box-shadow: 0 5px 15px rgba(0,0,0,.8);*/\r\n  /*background-color:#ff9900;*/\r\n  /*-moz-box-shadow: 10px 10px 5px #888888; !* 老的 Firefox *!*/\r\n  box-shadow: 0 0 5px #888888;\r\n  /*border:1px solid #fff*/\r\n  /*border:1px dashed #888888*/\r\n  /*box-shadow: 0 5px 15px*/\r\n}\r\n\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/college/College.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"as\"},[_c('basic-container',[_c('avue-crud',{attrs:{\"data\":_vm.data,\"option\":_vm.option},on:{\"on-load\":_vm.getList,\"size-change\":_vm.sizeChange,\"row-update\":_vm.update,\"row-save\":_vm.insert,\"row-del\":_vm.deletes,\"refresh-change\":_vm.refreshList},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"page-sizes\":[5, 10, 20],\"total\":_vm.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-000ab1e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/college/College.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-000ab1e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./College.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./College.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./College.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-000ab1e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./College.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-000ab1e2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/college/College.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}