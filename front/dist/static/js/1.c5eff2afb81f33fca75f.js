webpackJsonp([1],{"0Tb2":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={border:!0,index:!0,indexLabel:"序号",stripe:!0,calcHeight:30,searchMenuSpan:4,searchSpan:5,searchShowBtn:!1,dialogDrag:!0,page:!1,addBtn:!1,align:"center",menuAlign:"center",formslot:!0,column:[{label:"用户学号",prop:"usersStnumber",editDisabled:!0},{label:"用户姓名",prop:"usersName",editDisabled:!0},{label:"用户角色",prop:"roleValue",type:"select",dicData:[{label:"普通用户",value:"user"},{label:"管理员",value:"admin"},{label:"超级管理员",value:"superAdmin"}]}]},n=s("2CGT"),r={data:function(){return{option:a,form:{},data:[],search:"",currentPage:1,pageSize:10,total:0,users_ne:"",users_nb:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;Object(n.S)({params:{PageNum:this.currentPage,PageSize:this.pageSize,usersName:this.users_ne,usersStnumber:this.users_nb}}).then(function(t){console.log("11111111"),console.log(t.data.data.records),e.data=t.data.data.records,e.total=t.data.data.total})},insert:function(e,t,s){var a=this;SinsertAPI(e).then(function(e){t(),s(),a.getList(),"200"==e.data.code?a.$message({type:"success",message:"新增成功"}):a.$message({type:"error",message:"新增失败"})})},update:function(e,t,s,a){var r=this;Object(n.V)({params:{usersStnumber:e.usersStnumber,roleValue:e.roleValue}}).then(function(e){s(),r.getList(),console.log(e),"200"==e.data.code?r.$message({type:"success",message:"更新成功"}):r.$message({type:"error",message:"更新失败"})}).catch(function(){a()}),console.log(e)},deletes:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(n.R)({params:{usersStnumber:e.usersStnumber}})}).then(function(e){t.getList(),"200"==e.data.code?t.$message({type:"success",message:"删除成功"}):t.$message({type:"error",message:"删除失败"}),console.log(e)})},emptyInput:function(){this.users_ne="",this.users_nb=""},refreshList:function(){this.getList()},sizeChange:function(e){this.page.pageSize=e},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"as"},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户姓名"},model:{value:e.users_ne,callback:function(t){e.users_ne=t},expression:"users_ne"}}),e._v(" "),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户学号"},model:{value:e.users_nb,callback:function(t){e.users_nb=t},expression:"users_nb"}}),e._v(" "),s("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.getList}}),e._v(" "),s("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.emptyInput}})],1),e._v(" "),s("basic-container",[s("avue-crud",{attrs:{data:e.data,option:e.option},on:{"on-load":e.getList,"size-change":e.sizeChange,"row-update":e.update,"row-save":e.insert,"row-del":e.deletes,"refresh-change":e.refreshList},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),e._v(" "),s("div",{staticStyle:{margin:"10px 0"}},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,20],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=s("VU/8")(r,i,!1,function(e){s("aFgN")},"data-v-d2b049dc",null);t.default=o.exports},aFgN:function(e,t){}});
//# sourceMappingURL=1.c5eff2afb81f33fca75f.js.map