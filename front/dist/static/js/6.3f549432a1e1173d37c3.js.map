{"version":3,"sources":["webpack:///./src/api/Avue/draft.js","webpack:///src/views/draft/Draft.vue","webpack:///./src/views/draft/Draft.vue?9481","webpack:///./src/views/draft/Draft.vue"],"names":["draftAvue","border","index","indexLabel","stripe","calcHeight","searchMenuSpan","dialogDrag","searchSpan","searchBtn","viewBtn","editBtn","page","addBtn","align","menuAlign","formslot","column","label","prop","editDisabled","type","rules","required","message","trigger","dicData","value","slot","Draft","data","option","form","search","currentPage","pageSize","total","users_ne","users_nb","college_ne","created","this","getList","methods","_this","Object","api","params","PageNum","PageSize","then","res","console","log","records","changeSwitch","row","status","draftState","$confirm","confirmButtonText","cancelButtonText","draftId","catch","loading","searchLiset","_this2","usersName","usersStnumber","collegeName","insert","done","_this3","code","$message","update","_this4","UupdateAPI","deletes","_this5","emptyInput","refreshList","sizeChange","handleSizeChange","handleCurrentChange","pageNum","draft_Draft","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","width","attrs","placeholder","model","callback","$$v","expression","_v","icon","on","click","on-load","size-change","row-update","row-save","row-del","refresh-change","scopedSlots","_u","key","fn","scope","active-color","active-text","active-value","inactive-color","inactive-text","inactive-value","change","$event","$set","margin","current-page","page-size","page-sizes","layout","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.3f549432a1e1173d37c3.js","sourcesContent":["// 设置手机号的验证规则\r\nconst checkPhone = (rule, value, callback) => {\r\n  if (!value) {\r\n    callback(new Error('请输入联系方式'))\r\n  } else {\r\n    const reg = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/\r\n    if (reg.test(value)) {\r\n      callback()\r\n    } else {\r\n      return callback(new Error('请输入正确的电话'))\r\n    }\r\n  }\r\n}\r\n\r\n// 设置密码校验规则\r\nconst checkPassword = (rule, value, callback) => {\r\n  if (!value) {\r\n    callback(new Error('请输入6到12位字母或数字密码'))\r\n  } else {\r\n    // const reg = /^(20)d{12}$/;\r\n    const reg = /^(\\w){6,12}$/;\r\n    if (reg.test(value)) {\r\n      callback()\r\n    } else {\r\n      return callback(new Error('请输入正确的密码'))\r\n    }\r\n  }\r\n}\r\n\r\n//验证姓名（只能输入中文名）\r\nconst checkName = (rule, value, callback) => {\r\n  const reg = /^(?=.{2,5}$)(((?![\\u3000-\\u303F])[\\u2E80-\\uFE4F]|\\·)*(?![\\u3000-\\u303F])[\\u2E80-\\uFE4F](\\·)*)$/;\r\n  if (!reg.test(value)) {\r\n    callback(new Error('请输入2-5个汉字'))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\n// 设置学号号的验证规则\r\nconst checkStnumber = (rule, value, callback) => {\r\n  if (!value) {\r\n    callback(new Error('请输入学号'))\r\n  } else {\r\n    // const reg = /^(20)d{12}$/;\r\n    const reg = /^20[0-9]\\d{9}$/;\r\n    if (reg.test(value)) {\r\n      callback()\r\n    } else {\r\n      return callback(new Error('请输入正确的学号'))\r\n    }\r\n  }\r\n}\r\n\r\nexport const draftAvue = {\r\n\r\n  border: true,                   //显示递增id\r\n  index: true,\r\n  indexLabel: '序号',\r\n  stripe: true,\r\n  calcHeight: 30,\r\n  searchMenuSpan: 4,\r\n  // menuAlign: 'center',\r\n  dialogDrag: true, //表单拖拽\r\n  searchSpan: 5,\r\n\r\n  //表格小搜索按钮\r\n  searchBtn: false,\r\n\r\n  //操作栏查看\r\n  viewBtn: true,\r\n  //操作栏编辑\r\n  editBtn: false,\r\n\r\n\r\n  // addBtn:false,\r\n\r\n  // title:'表格的标题',\r\n  page: false,\r\n  addBtn: true,\r\n  align: 'center',\r\n  menuAlign: 'center',\r\n  formslot: true,\r\n  column: [\r\n\r\n    {\r\n      label: '姓名',\r\n      prop: 'usersName',\r\n      // search: true,\r\n      // rules: [{\r\n      //   required: true,\r\n      //   message: '姓名不能为空',\r\n      //   trigger: 'blur'\r\n      // }, {\r\n      //   validator: checkName,\r\n      //   trigger: 'blur'\r\n      // }]\r\n    },\r\n    {\r\n      label: '学号',\r\n      prop: 'usersStnumber',\r\n      editDisabled: true,   //编辑的时候不能修改\r\n      // rules: [{\r\n      //   required: true,\r\n      //   message: '学号不能为空',\r\n      //   trigger: 'blur'\r\n      // }, {\r\n      //   validator: checkStnumber,\r\n      //   trigger: 'blur'\r\n      // }]\r\n    },\r\n    {\r\n      label: '院系',\r\n      prop: 'collegeName',\r\n      type: 'select',\r\n      rules: [{\r\n        required: true,\r\n        message: '请选择院系',\r\n        trigger: 'blur'\r\n      }],\r\n      dicData: [{\r\n        label: '理工学院',\r\n        value: '理工学院'\r\n      }, {\r\n        label: '体育与健康学院',\r\n        value: '体育与健康学院'\r\n      },\r\n        {\r\n          label: '语言文学学院',\r\n          value: '语言文学学院'\r\n        },\r\n        {\r\n          label: '马克思学院',\r\n          value: '马克思学院'\r\n        },\r\n        {\r\n          label: '经济与管理学院',\r\n          value: '经济与管理学院'\r\n        },\r\n        {\r\n          label: '教育与音乐学院',\r\n          value: '教育与音乐学院'\r\n        },\r\n        {\r\n          label: '艺术与设计学院',\r\n          value: '艺术与设计学院'\r\n        },\r\n        {\r\n          label: '商贸与法律学院',\r\n          value: '商贸与法律学院'\r\n        },\r\n        {\r\n          label: '传媒学院',\r\n          value: '传媒学院'\r\n        },\r\n\r\n      ]\r\n    },\r\n    {\r\n      label: '状态',\r\n      type: \"switch\",\r\n      // type: \"radio\",\r\n      // prop: 'draftState',\r\n      slot: true,\r\n      // form:1,\r\n      dicData: [\r\n        {\r\n          label: '未发布',\r\n          value: \"0\"\r\n        }, {\r\n          label: '已发布',\r\n          value: \"1\"\r\n        }\r\n      ],\r\n      prop: \"draftState\",\r\n    },\r\n    {\r\n      label: '内容',\r\n      prop: 'draftContent',\r\n    },\r\n  ]\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/Avue/draft.js","<template>\r\n  <div class=\"as\">\r\n\r\n    <div style=\"margin-bottom:10px\">\r\n      <el-input v-model=\"users_ne\" placeholder=\"请输入用户姓名\" style=\"width:200px\">\r\n      </el-input>\r\n\r\n      <el-input v-model=\"users_nb\" placeholder=\"请输入用户学号\" style=\"width:200px\">\r\n      </el-input>\r\n\r\n      <el-input v-model=\"college_ne\" placeholder=\"请输入院系\" style=\"width:200px\">\r\n      </el-input>\r\n\r\n      <el-button icon=\"el-icon-search\" @click=\"searchLiset\"></el-button>\r\n      <el-button icon=\"el-icon-delete\" @click=\"emptyInput\"></el-button>\r\n\r\n      <!--      <el-input placeholder=\"请输入班级名称\" v-model=\"es\" style=\"width:200px\">-->\r\n      <!--        &lt;!&ndash;          <el-input placeholder=\"请输入班级名称\" v-model=\"ds\" style=\"width:200px\"></el-input>&ndash;&gt;-->\r\n      <!--        &lt;!&ndash;            <el-input placeholder=\"请输入班级名称\" v-model=\"bs\" style=\"width:200px\"></el-input>&ndash;&gt;-->\r\n      <!--        <template #append>-->\r\n      <!--          <el-button icon=\"el-icon-search\" @click=\"searchLiset\"></el-button>-->\r\n      <!--        </template>-->\r\n      <!--      </el-input>-->\r\n\r\n    </div>\r\n\r\n    <basic-container>\r\n      <avue-crud v-model=\"form\"\r\n                 :data=\"data\"\r\n                 :option=\"option\"\r\n\r\n                 @on-load=\"getList\"\r\n                 @size-change=\"sizeChange\"\r\n                 @row-update=\"update\"\r\n                 @row-save=\"insert\"\r\n                 @row-del=\"deletes\"\r\n                 @refresh-change=\"refreshList\"\r\n\r\n      >\r\n\r\n        <template slot=\"draftState\" slot-scope=\"scope\">\r\n          <el-switch\r\n            v-model=scope.row.draftState\r\n            active-color=\"#409EFF\"\r\n            active-text=\"已发布\"\r\n            active-value=\"1\"\r\n            class=\"switch\"\r\n            inactive-color=\"#CCCCCC\"\r\n            inactive-text=\"未发布\"\r\n            inactive-value=\"0\"\r\n            @change=\"changeSwitch(scope.row)\"\r\n\r\n          >\r\n          </el-switch>\r\n          <!--          </el-tooltip>-->\r\n        </template>\r\n\r\n      </avue-crud>\r\n    </basic-container>\r\n\r\n    <!--    分页-->\r\n    <div style=\"margin: 10px 0\">\r\n      <el-pagination\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :page-sizes=\"[5, 10, 20]\"\r\n        :total=\"total\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script scoped>\r\nimport {draftAvue} from '@/api/Avue/draft';\r\nimport {DdeleteAPI, DgetLisetAPI, DinsertAPI, DselectStateAPI, DupdateStateAPI} from '@/request/api';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      option: draftAvue,\r\n      form: {},\r\n      data: [],\r\n      search: '',\r\n      //分页\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n\r\n      users_ne: '',\r\n      users_nb: '',\r\n      college_ne: '',\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n\r\n    //分页请求\r\n    getList() {\r\n      DgetLisetAPI({\r\n        params: {\r\n          PageNum: this.currentPage,\r\n          PageSize: this.pageSize,\r\n          search: this.search\r\n\r\n        }\r\n      }).then(res => {\r\n        console.log('11111111')\r\n        // console.log(res)\r\n        console.log(res.data.data.records)\r\n\r\n        this.data = res.data.data.records\r\n        this.total = res.data.data.total\r\n\r\n      })\r\n\r\n    },\r\n\r\n    //修改状态\r\n    //写在methods里面的方法\r\n    changeSwitch(row) {\r\n      console.log(\"开关===>\", row);\r\n      let status = row.draftState == \"1\" ? '已发布' : '未发布'\r\n      console.log(row.draftState)\r\n      this.$confirm(`是否${status}此接口状态？`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        DupdateStateAPI(\r\n          row.draftId,\r\n          row.draftState\r\n        ).then(res => {\r\n          console.log(res)\r\n\r\n        })\r\n          .catch(() => {\r\n            loading();\r\n          })\r\n      }).catch(() => {\r\n        //这里处理取消操作时候的效果\r\n        // this.getTableData()\r\n      })\r\n    },\r\n\r\n    //查询\r\n    searchLiset() {\r\n      DselectStateAPI({\r\n        params: {\r\n          PageNum: this.currentPage,\r\n          PageSize: this.pageSize,\r\n          usersName: this.users_ne,\r\n          usersStnumber: this.users_nb,\r\n          collegeName: this.college_ne\r\n        }\r\n      }).then(res => {\r\n        console.log(res.data.data.records)\r\n        // console.log(res)\r\n        console.log('111')\r\n        this.data = res.data.data.records\r\n        this.total = res.data.data.total\r\n      })\r\n\r\n    },\r\n\r\n    //新增\r\n    insert(params, done, loading) {\r\n      DinsertAPI(params).then(res => {\r\n        done();  // 关闭表单\r\n        loading(); // 按钮停止加载\r\n        this.getList()\r\n        if (res.data.code == '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"新增成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"新增成功\"\r\n          })\r\n        }\r\n        console.log(res)\r\n        console.log('ssss')\r\n      })\r\n      // console.log(res)\r\n      console.log('999')\r\n    },\r\n\r\n    //修改\r\n    update(params, index, done, loading) {\r\n      UupdateAPI(params).then(res => {\r\n        done();\r\n        this.getList()\r\n        console.log(res)\r\n        if (res.data.code == '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"更新成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"更新失败\"\r\n          })\r\n        }\r\n      })\r\n        .catch(() => {\r\n          loading();\r\n\r\n        })\r\n\r\n      // this.onLoad(this.page, this.query);\r\n      console.log(params)\r\n\r\n      // this.getList()\r\n    },\r\n\r\n    // 删除按钮\r\n    deletes(params) {\r\n\r\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        return DdeleteAPI(params.draftId)\r\n      }).then((res) => {\r\n        this.getList();\r\n        // this.$message.success('删除成功')\r\n        if (res.data.code == '200') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"删除失败\"\r\n          })\r\n        }\r\n        console.log(res);\r\n\r\n      })\r\n\r\n    },\r\n\r\n    //清空搜索栏\r\n    emptyInput() {\r\n      this.users_ne = \"\";\r\n      this.users_nb = \"\";\r\n      this.college_ne = \"\";\r\n    },\r\n\r\n    //刷新按钮\r\n    refreshList() {\r\n      this.getList()\r\n    },\r\n\r\n    //最大条数\r\n    sizeChange(pageSize) {\r\n      this.page.pageSize = pageSize\r\n    },\r\n    //改变当前每页的个数触发\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize;\r\n      this.getList()\r\n    },\r\n    //改变当前页码触发\r\n    handleCurrentChange(pageNum) {\r\n      this.currentPage = pageNum\r\n      this.getList()\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style>\r\n/*body{*/\r\n/*  !*padding: 25px 50px 75px 100px;*!*/\r\n/*  !*margin :auto 100px;*!*/\r\n/*}*/\r\n.as {\r\n  /*上 右 下 左*/\r\n  padding: 10px 10px 10px 10px;\r\n  margin: 3px 0px 0px 3px;\r\n  /*box-shadow: 0 5px 15px rgba(0,0,0,.8);*/\r\n  /*background-color:#ff9900;*/\r\n  /*-moz-box-shadow: 10px 10px 5px #888888; !* 老的 Firefox *!*/\r\n  box-shadow: 0 0 5px #888888;\r\n  /*border:1px solid #fff*/\r\n  /*border:1px dashed #888888*/\r\n  /*box-shadow: 0 5px 15px*/\r\n}\r\n\r\n/* switch按钮样式 */\r\n.switch .el-switch__label {\r\n  position: absolute;\r\n  display: none;\r\n  color: #fff !important;\r\n}\r\n\r\n/*打开时文字位置设置*/\r\n.switch .el-switch__label--right {\r\n  z-index: 1;\r\n}\r\n\r\n/* 调整打开时文字的显示位子 */\r\n.switch .el-switch__label--right span {\r\n  margin-right: 9px;\r\n}\r\n\r\n/*关闭时文字位置设置*/\r\n.switch .el-switch__label--left {\r\n  z-index: 1;\r\n}\r\n\r\n/* 调整关闭时文字的显示位子 */\r\n.switch .el-switch__label--left span {\r\n  margin-left: 9px;\r\n}\r\n\r\n/*显示文字*/\r\n.switch .el-switch__label.is-active {\r\n  display: block;\r\n}\r\n\r\n/* 调整按钮的宽度 */\r\n.switch.el-switch .el-switch__core,\r\n.el-switch .el-switch__label {\r\n  width: 68px !important;\r\n  margin: 0;\r\n}\r\n\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/draft/Draft.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"as\"},[_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入用户姓名\"},model:{value:(_vm.users_ne),callback:function ($$v) {_vm.users_ne=$$v},expression:\"users_ne\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入用户学号\"},model:{value:(_vm.users_nb),callback:function ($$v) {_vm.users_nb=$$v},expression:\"users_nb\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入院系\"},model:{value:(_vm.college_ne),callback:function ($$v) {_vm.college_ne=$$v},expression:\"college_ne\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchLiset}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.emptyInput}})],1),_vm._v(\" \"),_c('basic-container',[_c('avue-crud',{attrs:{\"data\":_vm.data,\"option\":_vm.option},on:{\"on-load\":_vm.getList,\"size-change\":_vm.sizeChange,\"row-update\":_vm.update,\"row-save\":_vm.insert,\"row-del\":_vm.deletes,\"refresh-change\":_vm.refreshList},scopedSlots:_vm._u([{key:\"draftState\",fn:function(scope){return [_c('el-switch',{staticClass:\"switch\",attrs:{\"active-color\":\"#409EFF\",\"active-text\":\"已发布\",\"active-value\":\"1\",\"inactive-color\":\"#CCCCCC\",\"inactive-text\":\"未发布\",\"inactive-value\":\"0\"},on:{\"change\":function($event){return _vm.changeSwitch(scope.row)}},model:{value:(scope.row.draftState),callback:function ($$v) {_vm.$set(scope.row, \"draftState\", $$v)},expression:\"scope.row.draftState\"}})]}}]),model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"page-sizes\":[5, 10, 20],\"total\":_vm.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46cf90db\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/draft/Draft.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46cf90db\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Draft.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Draft.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Draft.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46cf90db\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Draft.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/draft/Draft.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}