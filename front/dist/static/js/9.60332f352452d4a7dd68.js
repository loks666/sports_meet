webpackJsonp([9],{E6gx:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("2CGT"),i={data:function(){return{currentPage:1,pageSize:6,total:0,time:"",manages:[],competitionNb:"",usersStnumber:""}},created:function(){this.getList(),this.getDate()},methods:{getList:function(){var t=this;Object(a.y)({params:{PageNum:this.currentPage,PageSize:this.pageSize,search:this.search}}).then(function(e){console.log("=====>",e),t.manages=e.data.data.records,t.competitionNb=e.data.data.records[0].competitionNb,t.total=e.data.data.total})},apply:function(t){var e=this;this.$confirm("确定要报名该比赛项目？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){Object(a.a)({params:{competitionNb:t.competitionNb,usersStnumber:window.sessionStorage.getItem("id")}}).then(function(t){"200"==t.data.code?e.$message({type:"success",message:"报名成功"}):e.$message({type:"error",message:"报名失败"}),e.getList()})}).catch(function(t){e.$message({type:"error",message:"cancel"===t?"已放弃报名该比赛项目":"已提交报名申请"})}),this.getList()},getDate:function(){var t=new Date,e=t.getFullYear(),s=t.getMonth()+1,a=t.getDate(),i=t.getHours(),n=t.getMinutes(),c=t.getSeconds();this.time=e+"-"+this.convert(s)+"-"+this.convert(a)+" "+this.convert(i)+":"+this.convert(n)+":"+this.convert(c),console.log("当前时间",this.time)},convert:function(t){return t<10?"0"+t:t},sizeChange:function(t){this.page.pageSize=t},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.currentPage=t,this.getList()}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ac"},[s("el-row",{staticClass:"el-row",attrs:{gutter:20,type:"flex"}},t._l(t.manages,function(e,a){return s("el-col",{key:e.id,staticClass:"el-col",attrs:{span:8}},[s("el-card",{key:a,staticClass:"box",attrs:{onclick:""}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(e.competitionNe))])]),t._v(" "),s("div",[s("div",{staticClass:"text item"},[s("div",{staticClass:"item_tag"},[s("span",[t._v("地点：")])]),t._v(" "),s("div",{staticClass:"item_desr"},[s("span",[t._v(t._s(e.competitionSite))])])]),t._v(" "),s("div",{staticClass:"text item"},[s("div",{staticClass:"item_tag"},[s("span",[t._v("报名开始时间：")])]),t._v(" "),s("div",{staticClass:"item_desr"},[t._v(t._s(e.applyStart))])]),t._v(" "),s("div",{staticClass:"text item"},[s("div",{staticClass:"item_tag"},[s("span",[t._v("报名结束时间：")])]),t._v(" "),s("div",{staticClass:"item_desr"},[s("span",[t._v(t._s(e.applyEnd))])])]),t._v(" "),s("div",{staticClass:"text item"},[s("div",{staticClass:"item_tag"},[s("span",[t._v("比赛开始时间：")])]),t._v(" "),s("div",{staticClass:"item_desr"},[t._v(t._s(e.competitionStart))])]),t._v(" "),s("div",{staticClass:"text item"},[s("div",{staticClass:"item_tag"},[s("span",[t._v("剩余参赛人数：")])]),t._v(" "),s("div",{staticClass:"item_desr"},[t._v(t._s(e.competitionTnor))])]),t._v(" "),[s("div",[s("el-button",{attrs:{disabled:e.applyEnd<t.time,type:e.applyEnd<t.time?"info":"primary"},on:{click:function(s){return t.apply(e)}}},[t._v(t._s(e.applyEnd>t.time?"立即报名":"不可报名")+"\n              ")])],1)]],2)])],1)}),1),t._v(" "),s("div",{staticStyle:{margin:"10px 0"}},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,"page-sizes":[6,12,20],total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c=s("VU/8")(i,n,!1,function(t){s("FChy")},"data-v-3d27f11e",null);e.default=c.exports},FChy:function(t,e){}});
//# sourceMappingURL=9.60332f352452d4a7dd68.js.map